# ThermalMonitor版本更新记录
## 2024/9/1 v1.4.0
### 改善点
 - 优化了抓取数据的方法，满足充电息屏状态可以继续抓取数据，荣耀手机测试；放电状态灭屏无法抓取数据
 - 通知栏和应用内都可以控制数据的抓取和停止
### 待优化
 - 优化文件保存的格式，数据是文本格式 需要转换 西祠一定

## 2024/8/31 v1.3.0
### 改善点 
 - 悬浮窗按钮可以控制数据抓取的开始停止、监测数据抓取时长
 - 目前后台运行初步测试OK
### 待改善
 - 保存的文件的数据格式需要优化 
 - 当前第一次运行权限给完后，无法直接刷新通知，需要重新启动程序，待优化

## 2024/8/18
## 改善点
 - App启动需要增加通知权限请求
 - App 开始运行显示通知，显示内容包括应用图标，抓取时间计时器、停止控制按钮；
## 待优化
 - 当前第一次运行权限给完后，无法直接刷新通知，需要重新启动程序，待优化
 - 通知需要设置为静默通知
 - APP在后台运行的时候，通知栏时间不会更新，需要优化

## 2023/1/17
### 改善点
- 悬浮窗按钮可以控制数据抓取的开始停止
- 去掉抓取结束后的弹出跳转以优化代码接口，可在文件列表页面打开文件

### 存在的问题以及需要改善的地方
- 代码整理，优化，去除冗余代码
- 悬浮窗启动抓取需要添加fragment启动相同的未勾选提示
- 假电池测试程序运行功耗

## 2023/1/10
### 改善点
- 悬浮窗可以自定温度数据的显示
- Thermal部分读取数据的协程并发问题优化解决

### 存在的问题以及需要改善的地方
- 整体颜色搭配，目前视觉感受差
- battery、soc数据抓取考虑参考thermal调整到协程中执行，进一步降低功耗
- battery、soc部分的数据的自定义显示需要完成
- 以上完成后需要假电池验证功耗

## 2023/12/27
### 改善点
- 重磅！！ 困扰好久的fragment_FileList不能显示完整的原因是viewpager的layout_height = "warp_content" ,已修复
- soc、thermal读取数据的部分 优化一些逻辑上的问题
- 优化文件列表的显示格式、应用打开跳转功能、以及列表显示刷新功能

### 存在的问题及需要补充挂的功能
- 权限申请的时机 需要优化 ，目前暂时禁用
- 悬浮窗功能待做
- 运行是的功耗需要优化

## 2023/12/26
### 改善点
- 将权限申请从MainActivity 调整到OverViewFragment


## 2023/12/25
### 改善点
- 重构OverViewFragment部分，改为MVVM架构，用于抓取收据的时候可以后台运行，实际效果待验证测试

### 仍然存在的问题
- 本地文件页面的显示与管理
- 权限的申请，包括管理存储、忽略后台电池优化、悬浮窗
- 悬浮窗显示与控制功能待实现
- 功耗以及资源占用需要实际对比测试
- 文件保存时间需要优化


## 2023/12/24
### 改善点
- 为了避免后台运行的时候，抓取数据暂停进行，切位前台服务，且通知栏有提醒


## 2023/12/21
### 改善点
- UI配色
- 应用内查看已有文件，点击后可以用其他应用（wps）打开，开发中
- Excel文件中的时间格式显示为HH:mm:ss

### 存在的问题
- 后台状态下，MainActivity Stop后抓取数据不会继续，需要优化
- 文件列表无法在增加文件后刷新
- 文件列表显示style需要优化，点击用其他应用打开这个功能待实现
- 抓取完成后文件保存速度慢，等待时间较长
- recyclerView 只显示一部分的问题需要解决

## 2023/12/19
### 主要改善点
- 可以支持battery、thermal、soc数据抓取、保存

### 当前存在的问题
- UI需要改善，改为沉浸式状态栏
- 打开文件夹的跳转方式需要改为系统默认的文件管理器，而不是安卓原生的文件分享页面
- Excel文件中的时间戳的格式需要优化为excel可以识别的格式
